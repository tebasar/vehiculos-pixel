<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fichero de Veh√≠culos</title>
  <style>
    body {
      background-color: #1a1a1a;
      color: white;
      font-family: monospace;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #FFFF4C;
    }
    .btn {
      background: #4C4CFF;
      color: white;
      padding: 8px 12px;
      border: none;
      cursor: pointer;
      margin-top: 10px;
    }
    .formulario {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      background-color: #2a2a2a;
      padding: 10px;
      border: 2px dashed #4CFF4C;
    }
    .ficha {
      margin: 10px 0;
      border: 2px solid #4C4CFF;
      border-radius: 8px;
      background-color: #222;
    }
    .ficha-cabecera {
      background: #4C4CFF;
      padding: 10px;
      cursor: pointer;
    }
    .ficha-detalle {
      display: none;
      padding: 10px;
    }
    input, select {
      background-color: #111;
      color: white;
      border: 1px solid #555;
      padding: 6px;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <h1>Fichero de Veh√≠culos</h1>

  <div class="formulario">
    <select id="tipo">
      <option value="Auto">Auto</option>
      <option value="Moto">Moto</option>
      <option value="Bicicleta">Bicicleta</option>
    </select>
    <input id="marca" placeholder="Marca">
    <input id="modelo" placeholder="Modelo">
    <input id="anio" type="number" placeholder="A√±o">
    <input id="motor" placeholder="Tipo de motor">
    <input id="cubiertas" placeholder="Cubiertas">
    <input id="presion" placeholder="Presi√≥n neum√°ticos">
    <input id="aceite" placeholder="Aceite">
    <input id="cantidadAceite" placeholder="Cantidad aceite">
    <input id="hp" placeholder="Caballos de fuerza">
    <input id="frenos" placeholder="Frenos">
    <input id="vin" placeholder="VIN">
    <input id="patente" placeholder="Patente">
    <input id="fechaAdquisicion" type="date">
    <button class="btn" onclick="agregarVehiculo()">Ôºã</button>
  </div>

  <div id="contenedor-fichas"></div>

<script>
let vehiculos = JSON.parse(localStorage.getItem('vehiculos')) || [];

function agregarVehiculo() {
  const v = {
    tipo: document.getElementById('tipo').value,
    marca: document.getElementById('marca').value,
    modelo: document.getElementById('modelo').value,
    anio: document.getElementById('anio').value,
    motor: document.getElementById('motor').value,
    cubiertas: document.getElementById('cubiertas').value,
    presion: document.getElementById('presion').value,
    aceite: document.getElementById('aceite').value,
    cantidadAceite: document.getElementById('cantidadAceite').value,
    hp: document.getElementById('hp').value,
    frenos: document.getElementById('frenos').value,
    vin: document.getElementById('vin').value,
    patente: document.getElementById('patente').value,
    fechaAdquisicion: document.getElementById('fechaAdquisicion').value,
    servicios: []
  };
  vehiculos.push(v);
  localStorage.setItem('vehiculos', JSON.stringify(vehiculos));
  mostrarVehiculos();
}

function mostrarVehiculos() {
  const contenedor = document.getElementById('contenedor-fichas');
  contenedor.innerHTML = '';
  vehiculos.forEach((v, i) => {
    const ficha = document.createElement('div');
    ficha.className = 'ficha';
    ficha.innerHTML = `
      <div class="ficha-cabecera" onclick="
        const d = document.getElementById('detalle-${i}');
        d.style.display = d.style.display === 'block' ? 'none' : 'block';
      ">
        üìÅ ${v.tipo} ${v.marca} ${v.modelo} (${v.anio})
      </div>
      <div class="ficha-detalle" id="detalle-${i}">
        <b>Motor:</b> ${v.motor} | <b>HP:</b> ${v.hp}<br>
        <b>Aceite:</b> ${v.aceite} (${v.cantidadAceite}L), <b>Presi√≥n:</b> ${v.presion}<br>
        <b>Cubiertas:</b> ${v.cubiertas} | <b>Frenos:</b> ${v.frenos}<br>
        <b>VIN:</b> ${v.vin} | <b>Patente:</b> ${v.patente}<br>
        <b>Adquirido:</b> ${v.fechaAdquisicion}
        <hr>
        <b>Servicios:</b><br>
        ${v.servicios.length ? v.servicios.map(s => `üõ† ${s.fecha} - ${s.tipo} - ${s.desc} ($${s.costo})`).join('<br>') : '<i>Sin servicios registrados</i>'}
      </div>`;
    contenedor.appendChild(ficha);
  });
}

mostrarVehiculos();
</script>
</body>
</html>
